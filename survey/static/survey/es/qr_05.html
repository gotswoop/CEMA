<h5>Imagine we flip a fair coin 1,000 times. What is your best guess about how many times the coin would come up heads in 1,000 flips?</h5>

<br/>

<label><input id="intLimitTextBox"> times out of 1,000</label>

<input type="hidden" id="question" name="question" value="qr_05">
<input type="hidden" id="question_response" name="question_response" value="-1">

<script type="text/javascript">

	// Restricts input for the given textbox to the given inputFilter.
	function setInputFilter(textbox, inputFilter) {
	  ["input", "keydown", "keyup", "mousedown", "mouseup", "select", "contextmenu", "drop"].forEach(function(event) {
	    textbox.addEventListener(event, function() {
	      if (inputFilter(this.value)) {
	        this.oldValue = this.value;
	        this.oldSelectionStart = this.selectionStart;
	        this.oldSelectionEnd = this.selectionEnd;
	      } else if (this.hasOwnProperty("oldValue")) {
	        this.value = this.oldValue;
	        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
	      }
	    });
	  });
	}

	setInputFilter(document.getElementById("intLimitTextBox"), function(value) {
		if (value == "") {
			value_survey = "-1";	
		} else {
			value_survey = value;	
		}
		console.log(value_survey);
		document.getElementById("question_response").value = value_survey;
		// TODO: Custom parameter is set below!!!!
  		return /^\d*$/.test(value) && (value === "" || parseInt(value) <= 1000);
  	});

</script>
